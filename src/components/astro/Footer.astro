---
import { ui } from "@/i18n";

interface Props {
  id?: string;
  currentLang?: "en" | "es";
}

const { id, currentLang = "en" } = Astro.props as Props;
const t = ui[currentLang] ?? ui.en;
const homeHref = currentLang === "es" ? "/es#home" : "/#home";
const suitesHref = currentLang === "es" ? "/es#suites" : "/#suites";
const contactHref = currentLang === "es" ? "/es/contact" : "/contact";
const privacyHref = currentLang === "es" ? "/es/privacy" : "/privacy";
---

<footer id={id} class="bg-sand pt-10 pb-8 border-t border-dusk/10">
  <div class="max-w-7xl mx-auto px-6">
    <div class="grid grid-cols-1 md:grid-cols-12 gap-12">
      <!-- Logo -->
      <div class="flex justify-center md:justify-start items-start md:col-span-3">
        <img src="/logo/EL%20MURMULLO%20LOGOTIPO%20.png" alt="Murmullo" class="w-[270px] h-auto object-contain" />
      </div>

      <!-- El Murmullo Links -->
      <div class="md:col-span-2">
        <h3 class="text-lg font-semibold text-dusk mb-4">{t["footer.linksTitle"]}</h3>
        <ul class="space-y-2">
          <li><a href={homeHref} class="text-ink/70 hover:text-dusk transition">{t["nav.home"]}</a></li>
          <li><a href={suitesHref} class="text-ink/70 hover:text-dusk transition">{t["nav.suites"]}</a></li>
          <li><a href={contactHref} class="text-ink/70 hover:text-dusk transition">{t["nav.contact"]}</a></li>
          <li><a href={privacyHref} class="text-ink/70 hover:text-dusk transition">{t["footer.privacy"]}</a></li>
        </ul>
      </div>

      <!-- Get In Touch -->
      <div class="md:col-span-3">
        <h3 class="text-lg font-semibold text-dusk mb-4">{t["footer.getInTouch"]}</h3>
        <div class="space-y-3 text-ink/70 text-sm">
          <p>
            <a href="https://maps.app.goo.gl/nstPh6dN5pwWDLXB7" target="_blank" class="hover:text-dusk transition">
              {t["footer.address"]}
            </a>
          </p>
          <p class="pt-2">
            {t["footer.reservations"]}: <a href="tel:+527555557000" class="hover:text-dusk transition">+52 755 555 7000</a>
          </p>
          <p>
            {t["footer.whatsapp"]}: <a href="tel:+525525641838" class="hover:text-dusk transition">+52 55 2564 1838</a>
          </p>
          <p>
            {t["footer.frontDesk"]}: <a href="tel:+527555557030" class="hover:text-dusk transition">+52 755 555 7030</a>
          </p>
          <p class="pt-2">
            <a href="mailto:sales.reservations@lacasaquecanta.com" class="hover:text-dusk transition">sales.reservations@lacasaquecanta.com</a>
          </p>
          <p class="text-xs">{t["footer.businessHours"]}</p>
        </div>
      </div>

      <!-- Newsletter -->
      <div class="md:col-span-4 flex flex-col h-full">
        <div class="space-y-4">
          <h3 class="text-lg font-semibold text-dusk">{t["footer.newsletterTitle"]}</h3>
          <p class="text-sm text-ink/70">{t["footer.newsletterDescription"]}</p>
          <div class="flex w-full flex-col gap-4 sm:flex-row sm:items-center sm:gap-6">
            <form class="flex flex-1 gap-2">
              <input
                type="email"
                placeholder={t["footer.emailPlaceholder"]}
                class="flex-1 px-4 py-2 rounded-full border border-dusk/20 focus:outline-none focus:border-dusk/40 bg-white"
              />
              <button
                type="submit"
                class="px-4 py-2 rounded-full bg-dusk text-sand hover:bg-ink transition"
                aria-label={t["footer.subscribe"]}
              >
                →
              </button>
            </form>
            <div class="flex w-full items-center justify-end sm:w-auto sm:ml-auto">
              <a href="https://www.tripadvisor.com/Hotel_Review-g150795-d8804468-Reviews-Villa_El_Murmullo-Zihuatanejo_Zihuatanejo_de_Azueta_Pacific_Coast.html" target="_blank" rel="noopener noreferrer" class="text-ink/70 hover:text-dusk transition" aria-label="TripAdvisor">
                <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M12.006 4.295c-2.67 0-5.338.784-7.645 2.353H1.058l1.221 1.86A7.477 7.477 0 0 0 .875 12c0 4.14 3.36 7.5 7.5 7.5a7.48 7.48 0 0 0 6.098-3.156h.093A7.48 7.48 0 0 0 20.664 19.5c4.14 0 7.5-3.36 7.5-7.5s-3.36-7.5-7.5-7.5c-.885 0-1.73.154-2.52.436C16.516 3.455 14.32 2.625 12 2.625c-.665 0-1.322.062-1.965.183L11.959 0v4.295h.047zM8.335 18c-3.308 0-6-2.692-6-6s2.692-6 6-6 6 2.692 6 6-2.692 6-6 6zm12.33 0c-3.308 0-6-2.692-6-6s2.692-6 6-6 6 2.692 6 6-2.692 6-6 6z"/><circle cx="8.375" cy="12" r="3"/><circle cx="20.665" cy="12" r="3"/></svg>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Copyright à fond à gauche et en bas -->
    <div class="mt-8 text-left text-base sm:text-[17px] text-ink/70">
      <p>{t["footer.copyright"]}</p>
      <a
        href="https://www.o7digital.com/index-digital-agency"
        target="_blank"
        rel="noopener noreferrer"
        class="hover:text-dusk transition"
      >
        {t["footer.madeBy"]}
      </a>
    </div>
  </div>

  <button
    onclick="window.scrollTo({ top: 0, behavior: 'smooth' })"
    class="fixed bottom-4 right-4 z-50 flex items-center gap-2 px-4 py-2 rounded-full bg-dusk text-sand hover:bg-ink transition-colors"
    aria-label={t["footer.backToTop"]}
  >
    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path>
    </svg>
    <span class="hidden sm:inline">{t["footer.backToTop"]}</span>
  </button>
</footer>
